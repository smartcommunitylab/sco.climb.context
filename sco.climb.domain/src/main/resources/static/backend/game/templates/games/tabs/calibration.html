<fieldset class="row" ng-disabled="!PermissionsService.permissionEnabledEditGame() || currentGame.deployed">

    <h3>Calibrazione gioco
        <i class="glyphicon glyphicon-info-sign information-circle" tooltip-placement="auto top"
            tooltip-append-to-body="true"
            uib-tooltip="Inserisci le informazioni richieste sui campi liberi per poter calibrare il gioco."></i>
    </h3>
    <hr style="border-color: black;">
    </div>
    <!-- Start and end date -->
    <div class="row" style="margin-bottom: 20px;">
        <p style="display: inline-block" class="col-sm-3">
            <b>Data di inizio:&emsp;</b>
        </p>
        <p class="input-group" class="col-sm-4" style="display: inline-block">
            <b>{{$parent.startDate | date:"dd/MM/yyyy"}}</b>
            <!-- <input style="width: 200px" class="form-control" type="text" uib-datepicker-popup="{{dateFormat}}" is-open="isCalendarOpen[0]"
                    ng-model="$parent.startDate" min-date="minDate" ng-required="true" current-text="Oggi" clear-text="Azzera" close-text="Fatto"
                /> -->
            <!-- <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="isCalendarOpen[0] = true">
                        <i class="glyphicon glyphicon-calendar"></i>
                    </button>
                </span> -->
        </p>
    </div>
    <div class="row" style="margin-bottom: 20px;">
        <p style="display: inline-block" class="col-sm-3">
            <b>Data di fine:&emsp;</b>
        </p>
        <p class="input-group" class="col-sm-4" style="display: inline-block">
            <b>{{$parent.endDate | date:"dd/MM/yyyy"}}</b>

            <!-- <input style="width: 200px" class="form-control" type="text" uib-datepicker-popup="{{dateFormat}}" is-open="isCalendarOpen[1]"
                    ng-model="$parent.endDate" min-date="minDate" ng-required="true" current-text="Oggi" clear-text="Azzera" close-text="Fatto"
                />
                <span class="input-group-btn">
                    <button type="button" class="btn btn-default" ng-click="isCalendarOpen[1] = true">
                        <i class="glyphicon glyphicon-calendar"></i>
                    </button>
                </span> -->
        </p>
    </div>
    <div class="row">
        <div class="col-sm-6 col-xs-6">
            <p><b>Giorni di chiusura:</b>
                <i class="glyphicon glyphicon-info-sign information-circle" tooltip-placement="auto top"
                    tooltip-append-to-body="true"
                    uib-tooltip="specificare il numero di giorni in cui la scuola rimane chiusa durante il periodo del gioco, ad esclusione di sabati e domeniche."></i>
            </p>
        </div>
        <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
            <input class="form-control" string-to-number type="number" min="0" oninput="validity.valid||(value='');"
                ng-change="changed()" ng-model="currentGame.params.giorni_chiusi" />
        </div>
    </div>
    <!-- New avg distance for mean -->
    <div class="row">
        <div class="col-sm-12" style="margin-bottom: 20px;">
            <label style=" font-weight: bold">Distanza media (metri)
                <i class="glyphicon glyphicon-info-sign information-circle" tooltip-placement="auto top"
                    tooltip-append-to-body="true" uib-tooltip="Lunghezza media singolo tratto"></i>
            </label>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-6 col-xs-6">
            <p>
                A Piedi</b>
            </p>
        </div>
        <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
            <input class="form-control" type="number" min="0" ng-change="changed()"
                ng-model="currentGame.params.const_walk_distance" ng-disabled="!isModalityPresent('walk')" />
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 col-xs-6">
            <p>
                In bici
            </p>
        </div>
        <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
            <input class="form-control" type="number" min="0" ng-change="changed()"
                ng-model="currentGame.params.const_bike_distance" ng-disabled="!isModalityPresent('bike')" />
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 col-xs-6">
            <p>
                Scuolabus o trasporto pubblico
            </p>
        </div>
        <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
            <input class="form-control" type="number" min="0" ng-change="changed()"
                ng-model="currentGame.params.const_bus_distance" ng-disabled="!isModalityPresent('bus')" />
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 col-xs-6">
            <p>
                Pedibus
            </p>
        </div>
        <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
            <input class="form-control" type="number" min="0" ng-change="changed()"
                ng-model="currentGame.params.pedibus_studenti" ng-disabled="!isModalityPresent('pedibus')" />
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 col-xs-6">
            <p>
                In auto fino alla piazzola di sosta
            </p>
        </div>
        <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
            <input class="form-control" type="number" min="0" ng-change="changed()"
                ng-model="currentGame.params.pandr_studenti" ng-disabled="!isModalityPresent('pandr')" />
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 col-xs-6">
            <p>
                Car pooling
            </p>
        </div>
        <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
            <input class="form-control" type="number" min="0" ng-change="changed()"
                ng-model="currentGame.params.carpooling_studenti" ng-disabled="!isModalityPresent('carpooling')" />
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 col-xs-6">
            <p>
                In auto fino a scuola
            </p>
        </div>
        <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
            <input class="form-control" type="number" min="0" ng-change="changed()"
                ng-model="currentGame.params.car_studenti" ng-disabled="!isModalityPresent('car')" />
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <p><b>Bonus meteo (metri):</b></p>
        </div>
        <div class="col-sm-6 col-xs-6">nuovoloso</div>
        <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
            <input class="form-control" string-to-number type="number" min="0" oninput="validity.valid||(value='');"
                ng-change="changed()" ng-model="currentGame.params.const_cloudy_bonus" />
        </div>
        <div class="row">
            <div class="col-sm-6 col-xs-6">pioggia</div>
            <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
                <input class="form-control" string-to-number type="number" min="0" oninput="validity.valid||(value='');"
                    ng-change="changed()" ng-model="currentGame.params.const_rain_bonus" />
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 col-xs-6">neve</div>
            <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
                <input class="form-control" string-to-number type="number" min="0" oninput="validity.valid||(value='');"
                    ng-change="changed()" ng-model="currentGame.params.const_snow_bonus" />
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <p><b>Bonus performance (metri):</b></p>
            </div>
            <div class="col-sm-6 col-xs-6">giorno impatto zero</div>
            <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
                <input class="form-control" string-to-number type="number" min="0" oninput="validity.valid||(value='');"
                    ng-change="changed()" ng-model="currentGame.params.const_ZeroImpactDayClass_bonus" />
            </div>
            <div class="row">
                <div class="col-sm-6 col-xs-6">giorno senz'auto</div>
                <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
                    <input class="form-control" string-to-number type="number" min="0"
                        oninput="validity.valid||(value='');" ng-change="changed()"
                        ng-model="currentGame.params.const_NoCarDayClass_bonus" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 col-xs-6">
                <p><b>Km stimati:
                        <i class="glyphicon glyphicon-info-sign information-circle" tooltip-placement="auto top"
                            tooltip-append-to-body="true"
                            uib-tooltip="Sono i Km che riesce a percorrere virtualmente il gruppo nell'arco della durata del gioco. Viene calcolato moltiplicando la velocità giornaliera del gruppo per i giorni di gioco effettivi."></i>
            </div>
            <div class="col-sm-6 col-xs-6"> {{calculateKMStimati()}}</div></b></p>
        </div>
        <div class="col-sm-6 col-xs-6">
            <b>km sfide:</b>
        </div>
        <div class="col-sm-6 col-xs-6" style="margin-bottom: 20px;">
            <input class="form-control" string-to-number type="number" min="0" oninput="validity.valid||(value='');"
                ng-change="changed()" ng-model="currentGame.params.km_bonus" />
        </div>
        <div class="row">
            <div class="col-sm-6 col-xs-6">
                <p><b>Km target:
                        <i class="glyphicon glyphicon-info-sign information-circle" tooltip-placement="auto top"
                            tooltip-append-to-body="true"
                            uib-tooltip="Sono i Km totali percorsi, ed indicano la possibile distanza finale del gioco."></i>
            </div>
            <div class="col-sm-6 col-xs-6"> {{calculateKMTarget()}}</div></b></p>


        </div>
        <div class="row">
            <div class="col-sm-6 col-xs-6">
                <p><b>Velocità stimata(KM/gg):
            </div>
            <div class="col-sm-6 col-xs-6" > {{calculateCDND()/1000}}</div>
        </b></p>


        </div>
    </div>
    </div>
</fieldset>
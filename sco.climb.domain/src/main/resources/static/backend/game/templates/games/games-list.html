<div ng-include="'templates/dataset-selection.html'"></div>

<div ng-if="$parent.selectedOwner && $parent.selectedInstitute && $parent.selectedSchool">
   <!--  <div class="col-lg-12 buttons-tab">
        <a href="#/game/{{selectedOwner}}/{{selectedInstitute.objectId}}/{{selectedSchool.objectId}}//info" class="btn btn-info" ng-disabled="!PermissionsService.permissionEnabledEditGame()">Crea nuovo</a>
    </div>
 -->
 <div class="row">
 <h5 class="pull-left col-lg-6"><b>Lista giochi:</b></h5>
    <a href="#/game/{{selectedOwner}}/{{selectedInstitute.objectId}}/{{selectedSchool.objectId}}//info" class="btn btn-info button-blue margin-8 pull-right " ng-disabled="!PermissionsService.permissionEnabledEditGame()">Crea nuovo gioco <i class="fa fa-plus-circle" aria-hidden="true" uib-tooltip="RESET"></i></a>
 	</div>
    <div class="col-md-12 search-container">
          <ul class="list-group list-categories">
            <li class="list-group-item" ng-repeat="game in games | filter:searchText">
                <div class="row v-center">
                    <div class="col-md-8 col-xs-12">
                        <a href="#/game/{{selectedOwner}}/{{selectedInstitute.objectId}}/{{selectedSchool.objectId}}/{{game.objectId}}/info" ng-click="$parent.$parent.$parent.gamesModified = true" ng-disabled="!PermissionsService.permissionEnabledEditGame()" class="interact-blue"> <h5>{{game.gameName}}</h5></a>
                        <h5><b>Inizio:</b> {{game.from | date : 'dd/MM/yyyy'}} - <b>Fine:</b> {{game.to | date : 'dd/MM/yyyy'}}</h5>
                    </div>
                    <div class="col-md-4 col-xs-12 right">
                        <a href="#/game/{{selectedOwner}}/{{selectedInstitute.objectId}}/{{selectedSchool.objectId}}/{{game.objectId}}/gameconfig"  class="btn btn-icon btn-primary" role="button" ng-disabled="gamesConfigs[game.objectId].active" ng-disabled="!PermissionsService.permissionEnabledFunctionGame()"><i class="fa fa-cogs" aria-hidden="true" uib-tooltip="CONF TEMPLATE"></i></a>
                        <a class="btn btn-icon btn-primary" ng-click="initGameOnServer(game)"  ng-disabled="!PermissionsService.permissionEnabledFunctionGame()"><i class="fa fa-gamepad" aria-hidden="true" uib-tooltip="DEPLOY"></i></a>
<!--                         <a href="#/game/{{selectedOwner}}/{{selectedInstitute.objectId}}/{{selectedSchool.objectId}}/{{game.objectId}}/info" class="btn btn-icon btn-primary" role="button" ng-click="$parent.$parent.$parent.gamesModified = true"><i class="fa fa-pencil" aria-hidden="true" uib-tooltip="EDIT"></i></a>
 -->                    <a ng-click="reset(game)" class="btn btn-icon btn-danger" role="button"  ng-disabled="!PermissionsService.permissionEnabledFunctionGame()"><i class="fa fa-eraser" aria-hidden="true" uib-tooltip="RESET"></i></a>
                        <a ng-click="delete(game)" class="btn btn-icon btn-danger" role="button"  ng-disabled="!PermissionsService.permissionEnabledDeleteGame()"><i class="fa fa-trash" aria-hidden="true" uib-tooltip="DELETE"></i></a>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>